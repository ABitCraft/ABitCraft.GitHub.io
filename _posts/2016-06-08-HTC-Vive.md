---
layout: post
title: HTC Vive 诞生记
categories: VR
---

<img src="https://s.aolcdn.com/hss/storage/midas/84a009d612c6c5d8e6b8380b6eb2f733/203566442/controllerlede-ed.jpg" alt="" />

> 本文是 Engadget 关于 HTC Vive 的专题文章：[How HTC and Valve built the Vive - A VR headset four years in the making.](http://www.engadget.com/2016/03/18/htc-vive-an-oral-history/)，译文 [HTC Vive 诞生记：一场关于 VR 巨头们的「三角恋」](http://www.geekpark.net/topics/214950) 来自极客公园，排版及语句对照原文有所调整，此处仅作收录之用。

* How HTC and Valve built the Vive
{:toc}

***

在 Vive 出生之前，软件开发商 Valve 和手机制造商 HTC 分别都想往 VR 领域发展。

2012 年，VR 开始慢慢地走回大众的视野。这一切开始于同年的 5 月，当时 id Software 的 John Carmack 演示了运行 Doom 3 的修改版 Oculus Rift。接下来的一个月，他将 Rift 带到了受众更广的 E3 游戏大会。到了 8 月，Palmer Luckey 在 Kickstarter 上线了 Oculus 的众筹活动，这次众筹打破了记录。几乎一夜之间，Rift 从让人好奇的原型机变成了一个真正令人激动的实物。

在这一切发生的时候，Valve 已经开始着手于自己的解决方案了。

## HTC 之前，Valve 打算用房子大小的设备杀入 VR

Valve 早期在原型机上的努力是有迹可循的。在 2012 年的时候，它开发了一套简单的 HMD 系统，只要有一个摄像头和几个 AprilTags 就能确保定位追踪。AprilTags 就好像是大一点，简单点的二维码，它们被广泛地运用在 AR 技术，相机标准和机器人中。Valve 对这个实验不是很保密：当 Oculus 在 Kickstarters 上的众筹活动抢占各种头条的时候，这家公司在《纽约时报》上展示了它们的 VR 实验。

<img src="https://s.aolcdn.com/hss/storage/midas/ba6c11b05686840fc4d377cb7c427bef/203559266/valveNYT.jpg" alt="" />
`A very early VR prototype (image credit: Stuart Isett / The New York Times).`

在它的追踪能够正常运行之后，新的问题又出现了：HMD 上的图像依然模糊不清。在 Valve 实验的时候，这家公司意识到，对于游戏而言，短暂余辉屏是必须的。在这样的情况下，这意味着屏幕模组点亮背光只能花费 1ms，而关闭背光只能花费 9ms，以避免出现残影。为了证明它的理论，它最开始创造了一个能让你观察另一个三维空间的「望远镜」；然后它设计了一个定制的板材，将高帧率，低余晖的图像显示在现成的 AMOLED 屏幕上。

（余晖指显示残留的光辉，余晖时间表示图像残留的时间。余晖效应是指，眼在观察景物时，光信号传人大脑神经，需经过一段短暂的时间，光的作用结束后，视觉形象并不立即消失，这种残留的视觉称「后像」，视觉的这一现象则被称为「视觉暂留」）

这些背光板然后被嵌入了「又大又丑的头盔」（引用 Valve Chet Faliszek 的原话），继续测试。「我们想要的效果就在那儿，但我们并不确定它是否存在。」Faliszek 表示。Valve 的这个团队爱上了这个「房间大小」的，可在里面自由移动的，VR 设备  。「我们担心的是其商业化和质量的问题。毕竟没有人愿意将自己的墙壁弄成那样，我们也没有与之相配套的输入解决方案。」看来，还缺点儿什么。

## Valve 之前，HTC 把 VR 作为新方向

在 2013 年以前，HTC 是一家智能手机公司，但它的野心不止于此。「当时我们深知 VR 与智能手机行业的早期十分相似，」HTC VR 方面的副总裁 Daniel O'Brien 解释道，「这是一种新的媒介，我们很清楚它就要来了。我们必要站在其前沿。」那意味着 HTC 要做原型机以及其它相关的事物。

因 HTC One 系列而出名的设计师 Claude Zellweger 当时正在朝着这个方向推进。「我一直以来都受命于前 CEO 周永明——寻找智能手机以外的，能够将公司引领至新方向的新技术，之后建立了前沿概念团队。」

前沿概念团是一个不大的团队，但它孵化出了像潜望镜的 Re Camera 和可穿戴设备 Re Grip，但目前为止它孵化出最有潜力的是 Vive。期初，它被命名为 Re Vive——一个独立于深陷泥沼的智能手机公司的新产品——但「Re」这个前缀渐渐从公司的市场宣传中淡去。周永明在辞去 CEO 职务后，接管了这个团队，并将团队重命名为「HTC 未来发展实验室」。

<img src="https://s.aolcdn.com/hss/storage/midas/1018a8f9e8865e3484413c6e4b9a8cde/201130803/PB211256.jpg" alt="" />
`HTC Re Camera`

这个团队在试过了 AR 和 VR 技术后，才决定选择 VR 做为他们的主要发展方向。但是当三星抓住这个机遇将自己的旗舰手机和光学眼镜结合起来之后，HTC 很快就放弃了「将 VR 与手机相结合」的这个想法。「我们认为它应当是一个完全不同的产品类型，需要有独立的解决方案，」现在已经是公司设计部门的一把手 Zellweger 表示道，「从那以后，我们就再也没有想过要将手机的屏幕作为 VR 设备的显示屏了。」最后 HTC 采用了以前在智能手机上相同的策略：尽早准备好，朝着高端方向去。

按照 Zellweger 的说法，HTC 「很巧合地」和 Valve 走到了一起。

## Valve 告别 Oculus Rift

到了 2013 年的时候，Valve 的努力使得 VR 中的实时追踪更接近成功了。尽管 Valve 已经搭建好了基础了，但它不打算自己做出一个设备来。为什么不呢？大众已经用他们的钱包给出了答案——Oculus 筹集的资金达到了 240 万美元。在 2014 年 1 月的时候，Valve 宣布它将和 Oculus 在追踪技术上共同合作推进「PC 驱动 VR」。它表示了自己没有发布 VR 硬件的计划，但它也注释道，「这个计划在将来可能会有所改变」。

很明显在某一个点上 Oculus 和 Valve 开始分道扬镳了。它们的分歧点可能在是「 VR 应该是什么样」：Rift 和 Vive 带来的体验肯定是不同的。Facebook 收购 Oculus 暗示了在这几个月里 Oculus 切断了与 Valve 的沟通。这迫使 Valve 不得不去探索其他的路径。没有人知道其中的详细原委。我们只知道，在那年 1 月的时候，Luckey 告诉媒体 Valve 的技术是「世界上最好的 VR 展示模型」，而到了春季的晚些时候，Valve 却和 HTC 的合作已经确定下来了。

关于那次会晤的细节没有公之于众。Zellweger 将之描述为「Cher and Gabe」之间的面对面的对话，Cher and Gabe 分别代指 HTC 的联合创始人王雪红和 Valve 的联合创始人 Gabe Newell。最后的结果，大家现在也知道了。

## 最终联姻，HTC/Valve Vive 现雏形

协议签署完之后，开发者版设备的研发就开始了。「接下来的一周我们去了一趟 Zellweger 在旧金山的设计办公室，配置了一个 贴满 AprilTag 的房间，」Faliszek 说道，「当时他们（HTC）已经有一些关于头戴设备应该是什么样的设计稿。行动力实在是高。」

Zellweger 回忆当时快节奏的情形说道：「我们反复地提出想法。那是与 Valve 沟通 VR 产品视觉形象的关键时刻，当时的设计还融入了追踪技术的早期形态……每个人都认为这样做出的产品一定很棒。」

<img src="https://s.aolcdn.com/hss/storage/midas/72da43674dffeb970cbf271f3a5e71bb/203559182/Whiteboard1400.jpg" alt="" />
`在绘制原型稿时展示 HTC 设计想法的一块白板`

尽管它在公众面前展示的 Demo 依然基于 2012 年开发而来的系统，但是 Valve 已经开始摈弃基于 AprilTag 的不实用的系统。然后两个备选解决方案被提出来了：点追踪和激光追踪。点追踪的方案和你想象中的一模一样。控制器和头盔被点覆盖，一个静止的摄像头使用机器的视野来实时确定那些点的位置。第二个方案是激光追踪，将控制器和头盔上的点换成传感器，当然还需要单独的激光发射基站。

激光追踪能够提供最高的精准度，但是为了确保它能在房间大小的空间内正常工作，它对头盔会有很苛刻的要求——激光基站的发射器会快速旋转，并发出覆盖整个房间的激光，其中内建的 LED 还会以 60 次/秒闪烁。头盔上的传感器会检测各种光线，然后它通过传感器接收激光和 LED 的时差来确定自己的位置。为了让测算更精确，头盔上需要布满大量的，不同朝向的传感器。

![]({{ site.baseurl }}/images/Vive-inside.png)

得知激光追踪是必须的技术之后，HTC 开始脚踏实地研发开发者版本的设备。之后 Valve 拿出了一套激光追踪的原型。原型机能够正常使用，但外表粗糙不堪，还有暴露在外表的电线。Zellweger 的团队必须将之转化成产品。从一开始，他们就利用 3D 打印技术来确定传感器的朝向，快速开始设计。在这个过程中，原型机在 Valve 总部，HTC 旧金山的办公室，以及台湾的工程团队之间往返了数次。

> **「我们可以调整头盔，但我们决不能在追踪技术上做任何妥协。」**

O'Brien 解释道，「追踪必须是完美的。」功能高于形态的原则在早期的原型头盔中就能看出端倪来。比如，使用 3D 打印模型的存在是为了测试传感器的朝向。尽管原型机毫无设计感可言，但它已经初具头盔的形状了。

## 当手势控制与手柄相结合

<img src="https://s.aolcdn.com/hss/storage/midas/26a8fe9f7d4b1861a940fdb25b061689/203559373/sombrerosteam.jpg" alt="" />
`早期的 VR 控制器的两种尝试`

一开始 Valve 的 VR 控制器完成度是比较低的。第一次在公众亮相的控制器只是在 Steam 控制器顶部加上了像大型「龙与地下城」骰子一样的物体。在激光追踪系统方面的尝试也遵循着简单的原则——直接将像触角一样的传感器加装到了游戏控制器上。但是这个团队很快意识到他们需要一些不同的事物。

「这是历史上让人类重新开始的时刻，」Faliszek 解释道，「我们说到，『我们不需要 X，Y，A，B 等按键，我们要把我们将要创造的事物变得特别。』」Valve 和 HTC 要做出来的控制器是两种既存的产品的混合物——它有着 2010 版 Sony PlayStation Move 一样的基本形态，但增加了来自于 Valve Steam 控制器的精准的输入和激光追踪传感器。

![]({{ site.baseurl }}/images/Vive-controller.png)

从第一代产品起，这个控制器就提供了优雅的解决方案。但是它们一开始并不是那么的美观。第一代原型机是一圈电缆加装在一对弹簧夹板上的，当时是为了测试激光追踪系统使用。很快它进化成了第一在公众亮相的样子——由于它独特的外形，被称之为「sombrero（墨西哥卷）。」

「墨西哥卷」没有太多的按键，显然它在一开始受到了很多开发者的抱怨。「他们一开始会说：『没有太多按键啊』，」Faliszek 回忆道，「但是到了第二周之后，他们会这样说：『我不需要那么多按键啊，搞不好我连一个都用不到。』」大多数的常规操作在之前是需要一个按键来完成的，不过现在能用手势解决掉。Faliszek 举了一个例子，以前需要「按 I 键打开道具栏」，现在只需要把手伸到背后，就好像真的从背包里取道具似的，这一手势就可以完成操作。

## Vive 开发者们的故事

在 HTC 和 Valve 开始合作后不到 6 个月，他们就准备好与其他人分享这个版本的设备了。在 2014 年 10 月 24 日的时候，Valve 邀请了一部分开发者拜访它们在 华盛顿 Bellevue 的办公室「我们让他们签署了保密协议，以确保他们能保守秘密，」Faliszek 笑道，「这让人人都感到疑惑，但他们还是来了。」

> **Developers were adamant that HTC and Valve shouldn't "splinter" the community.**

在出席了第一次会议之后，开发者们给出了很多建议。他们坚持认为 HTC 和 Valve 不应该划分产品线——不要让消费者选择 180° 追踪或者 360° 追踪，是否与手柄绑定销售。一个产品只需要有一种配置。「我们一直也在考虑这个问题，」Faliszek 说，「这次开发者们的建议更加坚定了我们的想法。」

2014 年 12 月的时候，第一批被称之为「-v1」的开发者套件出厂，它们是由 Valve 的员工亲手制作，亲手递送和亲手安装的。过了一周后，HTC 的生产线开始运转，越来越多的工厂机器也被送到了开发者手上。

作为一家智能手机制造商，HTC 在产品信息遭曝光上有着「丰富的经验」。所幸的是，Vive 没有遇到这样的问题。「参与其中的有超过 20 家公司，但没有一家泄密，」O'Brien 说道。为什么呢？Faliszek 将之归结于开发者们的「同志情谊」。由于拥有开发包的人有限，所以 Valve 为他们单独安排了一个隐秘的开发者论坛，这样他们就能交流开发经验，互相帮助了。

社区的好处在于开发者可以很自然地指出其他人在开发过程中出现的错误。但当一个开发者展示自己的开发成果的时候，其他人更多的是赞扬而不是挖苦讽刺。这些不断地促使着开发工作的推进。

## 惊艳亮相，HTC Vive 受赞誉


在开发者们参与进来后，Vive 项目保持着快速的开发进度。HTC 和 Valve 选定 MWC 2015 作为产品的首次亮相。第二场则选在了两周后专注于游戏的 GDC 2015 上。无论从那一个方面来说，这次亮相都是成功的。试过无数个 VR 模型的记者们都被房间大小的 Demo 和头部以及控制器的精确追踪而折服。随后推广计划就被定了下来。在 1 年之后，正式开放预订 MWC 和 GDC 上展示的消费者版本。

<img src="https://s.aolcdn.com/hss/storage/midas/2a73508100119de65b9fb9dabf34cfc6/203559553/vivefullbleed.jpg" alt="" />
`在 MWC 2015 上试用 Vive 的 Engadget 编辑 James Trew`

值得一提的是，在这期间 HTC Vive 还经历了一次迭代，从 Pre 开发者版升级到了消费者版。第一眼看上去两者并无太大差别。但凑近一看，二者最明显的不同在于对细节的把握。最终版要比 Pre 版轻一些，小一些；头带也经过了一次重新设计。这些修改将设备的重心更多地靠近了脸部——这一点很重要，因为这样你在移动的时候，设备会更加稳固。传感器也被藏起来了，镜片和头带的调整机制也得到了改进。最后，线缆更轻了，但依然显眼。虽然在你移动的时候，它们没有那么碍事，但你依然能感觉到它们的存在。

除了舒适度提升之外，在去年一年里，头盔又增添了新功能：前置摄像头和麦克风。前置摄像头是出于安全考量加入的，以保证用户在使用设备的时候能与外界沟通。只需按下按钮，Vive 能够在你潜入虚拟世界的时候，展现给你外部的情况。在最开始的时候，前置摄像头是计划之中的，但是无奈当时前置摄像头不工作。「于是我们只能在晚些时候再添加回这一功能。」O'Brien 表示。

<img src="https://s.aolcdn.com/hss/storage/midas/5bcbd028706a311a51fad59f643e7b59/203559542/vivefinal.jpg" alt="" />
`配上手柄和激光基站后的消费者版 Vive`

有了麦克风的作用，用户可以无需摘下设备接听电话。Pre 开发者版其实也有麦克风。但是因为 HTC 在软件上没有弄好，所以在 2 月份公布售价的时候，没有补充说明麦克风的存在。

## 发售之后再复盘

Faliszek、O'Brien 和 Zellweger 都坦言，开发 Vive 的过程几乎没有遇到任何麻烦。鉴于 Valve 和 HTC 从 两年前才开始合作，在这么紧张的时间表内拿出产品，也算是顺风顺水。头盔，控制器以及基站已经走上产品线了。现在他们只需要售卖设备了。

<embed src="http://player.youku.com/player.php/sid/XMTUwNzIxODY3Ng==/v.swf" allowFullScreen="true" quality="high" width="640" height="420" align="middle" allowScriptAccess="always" type="application/x-shockwave-flash"></embed>
`Vive 上线的广告片`

假设 Vive 能够大卖（HTC 没有公布具体的销售数字，但是他们连整个四月的存货都售空了），多久之后消费者需要将他们的设备升级到「第二代 Vive」呢？一台主机能够坚持 8 年，一台顶级的游戏 PC 能够保持 5 年内不落伍，一台智能手机只能保证 2 年。HTC 和 Vive 都不愿意透露出他们未来的计划。但是他们都坚信 Vive 能坚持很久。

这两家公司本可以造出一个更好的 VR 头戴设备——我们丝毫不怀疑这点。比如其单眼 1200×1080 的分辨率还能提升。但是瓶颈并不在于头盔，而是驱动它的 PC。设备对于 GPU 的要求已经够高了——AMD Radeon R9 290 或者 NVIDIA GeForce GTX 970。这些显卡即使在发布数年之后，其价格依然和 PlayStation 或者 Xbox 相持平。「我们的想法是选一款超级高端的硬件作为标准，然后一年后就会有足够的人能够负担起使用 Vive 成本了。」

第二代 Vive 设备一定会出现。「到了特定的时刻，你肯定想要增加分辨率，」Faliszek 承认道，「我们一定会从中学到一些东西，我们也一定会找出有意思的事情。但你不能草率地发布一款新品。」当 PC 显卡足以驱动 90 帧/秒的高分辨率画面，很可能我们就能看到一款新的 Vive。但那也不意味着早期的用户会被抛弃掉。

「我们已经明确地表示过了，」O'Brien 坚定地说道，「消费者版一旦发售，我们也会更新 Pre，v1，v1s 版的开发者套件。我们已经设计了能够向后兼容的系统，我们也一定会持续地维持它们。」Faliszek 补充道，「当我们发布了这些设备，那它们就会像活物一般。这些硬件也将会保持更新，我们将会照顾好它们。而不是发布新品之后，就忘了它们。

via Engadget, GeekPark